<style>
    label {
        font-weight: bold;
        margin-top: 10px;
    }

    .table {
        width: 100%;
        margin-bottom: 1rem;
        color: #212529;
        background-color: transparent;
        border-collapse: collapse;
        border-spacing: 0;
    }

    .table th,
    .table td {
        padding: 0.75rem;
        vertical-align: top;
    }

    .table thead th {
        vertical-align: bottom;
    }



    .table-sm th,
    .table-sm td {
        padding: 0.3rem;
    }

    .tag {
        border: 1px solid #212529;
    }

    .nonTag{
        border: none;
    }






    .table-bordered thead th,
    .table-bordered thead td {
        border-bottom-width: 2px;
    }

    .table-borderless th,
    .table-borderless td,
    .table-borderless thead th,
    .table-borderless tbody+tbody {
        border: 0;
    }

    .table-striped tbody tr:nth-of-type(odd) {
        background-color: rgba(0, 0, 0, 0.05);
    }
</style>
<nav class="navbar navbar-expand-lg navbar-dark">
    <a class="navbar-brand"></a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav"
        aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav">
            <li class="nav-item active">
                <a class="nav-link" style="color :#212529;" [ngClass]="affectCon==true ? 'tag' : 'nonTag'" (click)="showLAffect()">Affect Reclamation</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" style="color :#212529;" (click)="showListe()" [ngClass]="listeCon==true ? 'tag' : 'nonTag'">Liste intervention</a>
            </li>

        </ul>
    </div>
</nav>
<table class="table table-striped table-hover" *ngIf="affectCon">
    <thead class="table-dark">
        <tr>

            <th>District</th>
            <th>Demandeur</th>
            <th>Adresse</th>
            <th>Telephone</th>
            <th>Demande</th>
            <th>Date</th>
            <th></th>
        </tr>
    </thead>
    <tbody>
        <tr *ngFor="let r of  reclamtionAll">
            <td>{{ r.district }}</td>
            <td>{{ r.demandeur }}</td>
            <td>{{ r.adresse }}</td>
            <td>{{ r.telephone }}</td>
            <td>{{ r.demande }}</td>
            <td>{{ r.dateReclamation | date: 'dd/MM/yyyy' }}</td>
            <td>
                <button pButton pRipple type="button" icon="pi pi-plus"
                    style="margin-left: 5px; width: 40px; height: 40px;"
                    class="md:align-self-end  p-button-rounded p-button-warning" (click)="show(r)"></button>
            </td>
        </tr>
    </tbody>
</table>
<table class="table table-striped table-hover" *ngIf="listeCon">

    <thead class="table-dark">
        <tr>

            <th>Nom</th>
            <th>Date debut</th>
            <th>Date fin</th>
            <th>Date prévu</th>
            <th>Reclamation</th>
            <th></th>
        </tr>
    </thead>
    <tbody>
        <tr *ngFor="let r of  interAll">
            <td>{{ r.title }}</td>
            <td>{{ r.date | date: 'dd/MM/yyyy'}}</td>
            <td>{{ r.datefin | date: 'dd/MM/yyyy' }}</td>
            <td>{{ r.dateprevu | date: 'dd/MM/yyyy' }}</td>
            <td style="font-weight: bolder;">{{ r.reclamation.district }}</td>
          
            <td>
                <button pButton  type="button" icon="pi pi-plus"
                    style="margin-left: 5px;  height: 30px;"
                    class="md:align-self-end  p-button p-button-success" (click)="showDialogmat(r)">Materiel</button>
            </td>
        </tr>
    </tbody>
</table>

<p-dialog [(visible)]="showDialog" [style]="{width: '700px'}" header="Affect" [modal]="true" styleClass="p-fluid">
    <ng-template pTemplate="content">
        <form class="forms-sample">
            <div class="row">
                <div class="col-md-12">
                    <label for="exampleInputIdentifiant">Nom</label>
                    <input type="district" name="nom" [(ngModel)]="inter.nom" class="form-control" id="inputDistrict4"
                        placeholder="District">

                </div>


                <div class="col-md-6">
                    <label for="exampleInputIdentifiant">Date début</label>
                    <input type="date" name="dd" [(ngModel)]="inter.datedebut" class="form-control" id="inputDistrict4"
                        placeholder="District">


                </div>
                <div class="col-md-6">
                    <label for="exampleInputIdentifiant">Date fin</label>
                    <input type="date" name="datefin_prevu" [(ngModel)]="inter.datefin_prevu" class="form-control"
                        id="inputDistrict4" placeholder="District">


                </div>
                <div class="col-md-6">
                    <label for="exampleInputIdentifiant">Date prévu</label>
                    <input type="date" name="datefin_reelle" [(ngModel)]="inter.datefin_reelle" class="form-control"
                        id="inputDistrict4" placeholder="District">


                </div>


            </div>





        </form>
    </ng-template>

    <ng-template pTemplate="footer">
        <button pButton label="Save" icon="pi pi-check" (click)="add()" class="p-button-text"></button>
        <button pButton label="Reset" icon="pi pi-refresh" (click)="reset()" class="p-button-text"></button>
    </ng-template>
</p-dialog>

<p-dialog [(visible)]="showAddMAt" [style]="{width: '700px'}" header="Affect" [modal]="true" styleClass="p-fluid">
    <ng-template pTemplate="content">
        <form class="forms-sample">
            <div class="row">
                <div class="col-md-12">
                    <label for="exampleInputIdentifiant">date</label>
                    <input type="date" name="nom" [(ngModel)]="intradate" class="form-control" id="inputDistrict4"
                        placeholder="District">

                </div>

                <div class="col-md-12">
                    <label for="exampleInputIdentifiant">Liste matériels</label>
                    <p-multiSelect [options]="allMat" appendTo="body" name="liste" [(ngModel)]="selectMat" optionLabel="name"></p-multiSelect>
                </div>



            </div>





        </form>
    </ng-template>

    <ng-template pTemplate="footer">
        <button pButton label="Save" icon="pi pi-check" (click)="addMat()" class="p-button-text"></button>
        <button pButton label="Reset" icon="pi pi-refresh" (click)="resetMat()" class="p-button-text"></button>
    </ng-template>
</p-dialog>