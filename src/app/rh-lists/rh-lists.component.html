<style>
  label {
    font-weight: bold;
  }

  table {
  border-collapse: collapse;
  width: 100%;
  margin-bottom: 1rem;
  color: #212529;
}

th,
td {
  padding: 0.75rem;
  vertical-align: top;
  border-top: 1px solid #dee2e6;
}

th {
  text-align: left;
  font-weight: bold;
}

table caption {
  padding-top: 1rem;
  padding-bottom: 1rem;
  color: #868e96;
  text-align: left;
  caption-side: bottom;
}

</style>
<div class="container mt-4">
  <h3 class="text-center mb-4" style="font-family: cursive; font-size: 18px; text-align: center;">Liste des Ressources
    Humaines</h3>
  <hr>
  <div class="d-flex justify-content-start mb-4">
    <button pButton pRipple style="width: 150px;" type="button" label="Ajouter" (click)="openAddDialog()" class="p-button-rounded"></button>
   
  </div>

  <table class="table table-striped table-hover">
    <thead class="table table-dark">
      <tr>

        <th>Nom</th>
        <th>Prénom</th>
        <th>Fonction</th>
        <th>Ville</th>
        <th>CIN</th>
        <th>Utilisateur</th>
        <th></th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let ressourceHumaine of ressourceHumaines">

        <td>{{ ressourceHumaine.nom }}</td>
        <td>{{ ressourceHumaine.prenom }}</td>
        <td>{{ ressourceHumaine.Fonction }}</td>
        <td>{{ ressourceHumaine.Ville }}</td>
        <td>{{ ressourceHumaine.CIN }}</td>
        <td>{{ ressourceHumaine.user.name }}</td>
        <td class="text-center">
          <button pButton pRipple type="button" icon="pi pi-pencil"
            class="md:align-self-end  p-button-rounded p-button-info"
            style="margin-left: 5px; width: 40px; height: 40px;" (click)="showDialog(ressourceHumaine)"></button>
          

          <button pButton pRipple type="button" icon="pi pi-trash" (click)="deleteSwal(ressourceHumaine)"
            style="margin-left: 5px; width: 40px; height: 40px;"
            class="md:align-self-end  p-button-rounded p-button-danger"></button>
        </td>
      </tr>
    </tbody>
  </table>
</div>

<p-dialog [(visible)]="showRh" [style]="{width: '700px'}" header="Modifier ressource humaine" [modal]="true"
  styleClass="p-fluid">
  <ng-template pTemplate="content">
    <form class="forms-sample">
      <div class="row">
        <div class="col-md-6">
          <label for="exampleInputIdentifiant">Identifiant</label>
          <input ngModel name="identifiant" [(ngModel)]="rh.identifiant" placeholder="Identifiant" type="text"
            class="form-control input-field" #identifiant="ngModel" required>
          <div *ngIf="identifiant.invalid && identifiant.touched" class="text-danger">
            L'identifiant est obligatoire.
          </div>
        </div>
        <div class="col-md-6">

          <label for="exampleInputNom">Nom</label>
          <input ngModel name="nom" [(ngModel)]="rh.nom" placeholder="Nom" type="text" class="form-control input-field"
            #nom="ngModel" required>
          <div *ngIf="nom.invalid && nom.touched" class="text-danger">
            Le nom est obligatoire.
          </div>
        </div>
        <div class="col-md-6">
          <label for="exampleInputPrenom">Prénom</label>
          <input ngModel name="prenom" [(ngModel)]="rh.prenom" placeholder="Prénom" type="text"
            class="form-control input-field" #prenom="ngModel" required>
          <div *ngIf="prenom.invalid && prenom.touched" class="text-danger">
            Le prénom est obligatoire.
          </div>
        </div>
        <div class="col-md-6">
          <label for="exampleInputFonction">Fonction</label>
          <input ngModel name="Fonction" [(ngModel)]="rh.Fonction" placeholder="Fonction" type="text"
            class="form-control input-field" #Fonction="ngModel" required>
          <div *ngIf="Fonction.invalid && Fonction.touched" class="text-danger">
            La fonction est obligatoire.
          </div>
        </div>
        <div class="col-md-6">
          <label for="exampleInputVille">Ville</label>
          <input ngModel name="Ville" [(ngModel)]="rh.Ville" placeholder="Ville" type="text"
            class="form-control input-field" #Ville="ngModel" required>
          <div *ngIf="Ville.invalid && Ville.touched" class="text-danger">
            La ville est obligatoire.
          </div>
        </div>
        <div class="col-md-6">

          <label for="exampleInputCIN">CIN</label>
          <input ngModel name="CIN" [(ngModel)]="rh.CIN" placeholder="CIN" type="number"
            class="form-control input-field" #CIN="ngModel" required>
          <div *ngIf="CIN.invalid && CIN.touched" class="text-danger">
            Le numéro de carte d'identité est obligatoire.
          </div>
        </div>
      </div>






    </form>
  </ng-template>

  <ng-template pTemplate="footer">
    <button pButton label="Save" icon="pi pi-check" (click)="upDate()" class="p-button-text"></button>
    <button pButton label="Reset" icon="pi pi-refresh" (click)="reset()" class="p-button-text"></button>
  </ng-template>
</p-dialog>


<p-dialog [(visible)]="showRhadd" [style]="{width: '700px'}" header="Ajouter ressource humaine" [modal]="true"
  styleClass="p-fluid">
  <ng-template pTemplate="content">
    <form class="forms-sample">
      <div class="row">
        <div class="col-md-6">
          <label for="exampleInputIdentifiant">Identifiant</label>
          <input ngModel name="identifiant" [(ngModel)]="rh.identifiant" placeholder="Identifiant" type="text"
            class="form-control input-field" #identifiant="ngModel" required>
          <div *ngIf="identifiant.invalid && identifiant.touched" class="text-danger">
            L'identifiant est obligatoire.
          </div>
        </div>
        <div class="col-md-6">

          <label for="exampleInputNom">Nom</label>
          <input ngModel name="nom" [(ngModel)]="rh.nom" placeholder="Nom" type="text" class="form-control input-field"
            #nom="ngModel" required>
          <div *ngIf="nom.invalid && nom.touched" class="text-danger">
            Le nom est obligatoire.
          </div>
        </div>
        <div class="col-md-6">
          <label for="exampleInputPrenom">Prénom</label>
          <input ngModel name="prenom" [(ngModel)]="rh.prenom" placeholder="Prénom" type="text"
            class="form-control input-field" #prenom="ngModel" required>
          <div *ngIf="prenom.invalid && prenom.touched" class="text-danger">
            Le prénom est obligatoire.
          </div>
        </div>
        <div class="col-md-6">
          <label for="exampleInputFonction">Fonction</label>
          <input ngModel name="Fonction" [(ngModel)]="rh.Fonction" placeholder="Fonction" type="text"
            class="form-control input-field" #Fonction="ngModel" required>
          <div *ngIf="Fonction.invalid && Fonction.touched" class="text-danger">
            La fonction est obligatoire.
          </div>
        </div>
        <div class="col-md-6">
          <label for="exampleInputVille">Ville</label>
          <input ngModel name="Ville" [(ngModel)]="rh.Ville" placeholder="Ville" type="text"
            class="form-control input-field" #Ville="ngModel" required>
          <div *ngIf="Ville.invalid && Ville.touched" class="text-danger">
            La ville est obligatoire.
          </div>
        </div>
        <div class="col-md-6">

          <label for="exampleInputCIN">CIN</label>
          <input ngModel name="CIN" [(ngModel)]="rh.CIN" placeholder="CIN" type="number"
            class="form-control input-field" #CIN="ngModel" required>
          <div *ngIf="CIN.invalid && CIN.touched" class="text-danger">
            Le numéro de carte d'identité est obligatoire.
          </div>
        </div>
      </div>






    </form>
  </ng-template>

  <ng-template pTemplate="footer">
    <button pButton label="Save" icon="pi pi-check" (click)="addRH()" class="p-button-text"></button>
    <button pButton label="Reset" icon="pi pi-refresh" (click)="reset()" class="p-button-text"></button>
  </ng-template>
</p-dialog>